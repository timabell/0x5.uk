html {
	--post-footer-background: #eee;
	--inline-code-background: #FAFAFA; // kept as per default for rouge highlighter in light mode
}

@media (prefers-color-scheme: dark) {
	/* https://derekkedziora.com/blog/dark-mode-revisited */
	html {
		--post-footer-background: rgb(38, 37, 37);
		--inline-code-background: #123;
	}
}

/* give the subscribe box some space and a background to differentiate from post and comments on blog post footers */
#subscribe_text {
	padding-bottom: 1em;
}
#post_footer,
#subscribe {
	background-color: var(--post-footer-background);
	margin: 1em 0 2em 0;
	padding: 1em 1em 0.5em 1em;
	text-align: center;
}

.flickr-pic {
    text-align: center;
}
.post .flickr-pic img {
    max-width: 600px;
    max-height: 400px;
}

// override code highlighter styles
.highlighter-rouge {
	background-color: var(--inline-code-background);
}

// Enable text wrapping for code blocks
pre {
	white-space: pre-wrap;
	word-wrap: break-word;
	word-break: break-word;
}

pre code {
	display: block;
	padding: 1em;
	line-height: 1.5;
	max-width: 100%;
}


@keyframes site-avatar {
  0% {
		opacity: 0;
  }
  50% {
		transform: translateX(-300px) rotate(-400deg);
		opacity: 0;
  }
  100% {
		transform: translateX(0px) rotate(0deg);
		opacity: 1;
  }
}

.site-avatar { animation: site-avatar 2s linear; }

// Style superscript to actually look like superscript
sup {
	font-size: 0.7em;
	line-height: 0;
	position: relative;
	vertical-align: baseline;
	top: -0.8em;
}

// Style <kbd> to look like a keyboard key
kbd {
  display: inline-block;
  padding: 0.3em 0.4em;
  border: 1px solid #cfcfcf;
  border-bottom-color: #b5b5b5; // slightly darker bottom edge for depth
  background: #f7f7f7;
  border-radius: 4px;
  box-shadow: inset 0 -1px 0 #bdbdbd;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 0.9em;
  line-height: 1;
  white-space: nowrap;
}

@media (prefers-color-scheme: dark) {
  kbd {
    color: #eee;
    background: #232323;
    border-color: #4a4a4a;
    border-bottom-color: #3a3a3a;
    box-shadow: inset 0 -1px 0 #3f3f3f;
  }
}

// Give all images in posts a subtle drop-shadow
.post img {
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.15));
}

@media (prefers-color-scheme: dark) {
  .post img {
    filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.6));
  }
}

// Refined visual hierarchy for post headings
.post {
  h2, h3, h4, h5, h6 {
    text-align: left; // prefer left alignment for content-first readability
    margin-left: 0;
  }

  h2 {
    font-size: 26px;
    font-weight: 700;
    line-height: 1.25;
    margin-top: 2em;
    margin-bottom: 0.7em;
    padding-bottom: 0.25em;
    border-bottom: 2px solid #d3dbe1; // stronger yet minimal underline
  }

  h3 {
    font-size: 18px;
    font-weight: 600;
    line-height: 1.35;
    margin-top: 1.8em;
    margin-bottom: 0.5em;
  }

  h4 {
    // adopt the previous h3 style with left accent
    font-size: 18px;
    font-weight: 600;
    line-height: 1.35;
    margin-top: 1.6em;
    margin-bottom: 0.45em;
    padding-left: 0.5em;
    border-left: 3px solid #cfd8dc;
  }

  h5 {
    font-size: 16px;
    font-weight: 500;
    color: #6b7280; // a bit greyer
    margin-top: 1.1em;
    margin-bottom: 0.2em;
    padding-left: 0.6em;
    border-left: 3px solid #d7dde2; // match h4 width
  }

  h6 {
    font-size: 13px; // smaller
    font-weight: 500;
    font-style: italic;
    color: #9ca3af; // greyer
    margin-top: 1em;
    margin-bottom: 0.2em;
    padding-left: 0.9em; // more indented
    border-left: 3px solid #d7dde2; // match h4 width
  }
}

@media (prefers-color-scheme: dark) {
  .post h2 {
    border-bottom-color: rgba(255, 255, 255, 0.2);
  }
  .post h4 {
    border-left-color: rgba(255, 255, 255, 0.25);
  }
  .post h5 {
    border-left-color: rgba(255, 255, 255, 0.25);
    color: rgba(255, 255, 255, 0.75);
  }
  .post h6 {
    color: rgba(255, 255, 255, 0.6);
    border-left-color: rgba(255, 255, 255, 0.25);
  }
}
